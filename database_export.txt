========================================================
DATABASE EXPORT - COMPREHENSIVE STRUCTURE & DATA ANALYSIS
========================================================
Export Date: August 16, 2025
Database Type: PostgreSQL (Neon)
Total Tables: 9

========================================================
TABLE OVERVIEW & ROW COUNTS
========================================================

federations     - 30 records
group_messages  - 1 record
member_cards    - 0 records
members         - 1,069 records  ⭐ Primary data table
messages        - 5 records
regions         - 8 records
sections        - 143 records
statistics      - 1 record
users           - 56 records

========================================================
DETAILED TABLE STRUCTURES
========================================================

1. FEDERATIONS (30 records)
   Purpose: Geographic/organizational divisions
   ├── id (Primary Key, Auto-increment)
   ├── name (Text, Required) - Federation name
   ├── country (Text, Required) - Country name
   ├── created_at (Timestamp, Default: now())
   ├── name_en (Text, Optional) - English name
   ├── country_en (Text, Optional) - English country
   ├── region_id (Integer, Required) - Links to regions table
   └── description (Text, Optional)

   Sample Data:
   • ID: 15 | Name: Matoto | Country: Guinée | Region ID: 2
   • ID: 23 | Name: Dixinn | Country: Guinée | Region ID: 2
   • ID: 24 | Name: Matam | Country: Guinée | Region ID: 2

2. REGIONS (8 records)
   Purpose: Regional divisions
   ├── id (Primary Key, Auto-increment)
   ├── name (Text, Required) - Region name
   ├── country (Text, Optional) - Country
   ├── created_at (Timestamp, Default: now())
   ├── name_en (Text, Optional) - English name
   ├── country_en (Text, Optional) - English country
   ├── description (Text, Optional)
   └── code (Text, Optional) - Region code

   Sample Data:
   • ID: 2 | Name: Guinée | Country: Guinée | Code: GUIN
   • ID: 9 | Name: Asie Pacifique | Country: Singapour | Code: SING
   • ID: 14 | Name: Royaume Unis | Country: UK | Code: UK
   • ID: 15 | Name: Amerique du Nord | Country: USA & CA | Code: USA & CA
   • ID: 16 | Name: Amerique du Sud | Country: SouthAme | Code: SouthAme

3. SECTIONS (143 records)
   Purpose: Sub-divisions within federations
   ├── id (Primary Key, Auto-increment)
   ├── name (Text, Required) - Section name
   ├── name_en (Text, Optional) - English name
   ├── federation_id (Integer, Required) - Links to federations
   ├── description (Text, Optional)
   └── created_at (Timestamp, Default: now())

   Sample Data:
   • ID: 1 | Name: Kissosso Plateau | Federation ID: 15
   • ID: 6 | Name: Sangoyah Marché | Federation ID: 15
   • ID: 11 | Name: Kankan Centre | Federation ID: 49
   • ID: 13 | Name: Cameroun | Federation ID: 23
   • ID: 15 | Name: Sangoyah | Federation ID: 15

4. MEMBERS (1,069 records) ⭐ MAIN DATA TABLE
   Purpose: Member registration and profiles
   ├── id (Primary Key, Auto-increment)
   ├── membership_id (Text, Required, Unique) - Member ID number
   ├── first_name (Text, Required)
   ├── last_name (Text, Required)
   ├── gender (Text, Required)
   ├── birth_date (Text, Optional)
   ├── birth_place (Text, Required)
   ├── email (Text, Optional)
   ├── phone (Text, Optional)
   ├── country (Text, Required)
   ├── city (Text, Required)
   ├── address (Text, Optional)
   ├── education (Text, Optional)
   ├── occupation (Text, Optional)
   ├── federation (Text, Optional) - Legacy field
   ├── has_voter_card (Text, Optional)
   ├── voter_card_number (Text, Optional)
   ├── photo_id (Text, Optional) - Photo file reference
   ├── registration_date (Timestamp, Default: now())
   ├── pending_approval (Boolean, Default: false)
   ├── registered_by_id (Integer, Optional) - Links to users
   ├── region_id (Integer, Optional) - Links to regions
   ├── section_id (Integer, Optional) - Links to sections
   ├── federation_id (Integer, Optional) - Links to federations
   ├── education_other (Text, Optional)
   ├── section (Text, Optional) - Legacy field
   ├── deleted (Boolean, Default: false)
   ├── deleted_at (Timestamp, Optional)
   ├── expiration_date (Timestamp, Optional)
   └── updated_at (Timestamp, Default: now())

   Sample Data (Anonymized):
   • ID: 54 | Membership ID: 00571864 | Gender: female | Country: GN | City: Dixinn | Federation ID: 23
   • ID: 76 | Membership ID: 00186972 | Gender: male | Country: Mauritanie | City: Nouakchott | Federation ID: 50
   • ID: 78 | Membership ID: 00881444 | Gender: male | Country: Guinée | City: Maneah | Federation ID: 32

5. USERS (56 records)
   Purpose: System administrators and staff
   ├── id (Primary Key, Auto-increment)
   ├── username (Text, Required, Unique)
   ├── password (Text, Required) - Encrypted
   ├── name (Text, Required)
   ├── email (Text, Optional)
   ├── role (Text, Required, Default: 'admin')
   ├── created_at (Timestamp, Default: now())
   ├── phone (Text, Optional)
   ├── address (Text, Optional)
   ├── photo_id (Text, Optional)
   └── section_id (Integer, Optional) - Links to sections

   Roles Found: system_admin, sysadmin, admin
   
   Sample Data (No passwords shown):
   • ID: 1 | Username: admin | Name: System Administrator | Role: sysadmin
   • ID: 3 | Username: admin_anb | Name: Master Admin | Role: system_admin
   • ID: 4 | Username: thiernoury | Name: Thierno Oury Diallo | Role: sysadmin

6. MEMBER_CARDS (0 records - Empty)
   Purpose: Member card generation and tracking
   ├── id (Primary Key, Auto-increment)
   ├── member_id (Integer, Required) - Links to members
   ├── card_number (Text, Required)
   ├── issue_date (Timestamp, Default: now())
   ├── expiry_date (Date, Required)
   ├── status (Text, Default: 'active')
   ├── qr_code_data (Text, Required)
   ├── card_template (Text, Default: 'standard')
   ├── printed_count (Integer, Default: 0)
   ├── last_printed_at (Timestamp, Optional)
   └── metadata (JSON, Optional)

7. MESSAGES (5 records)
   Purpose: User-to-user messaging
   ├── id (Primary Key, Auto-increment)
   ├── sender_id (Integer, Required) - Links to users
   ├── receiver_id (Integer, Required) - Links to users
   ├── subject (Text, Required)
   ├── content (Text, Required)
   ├── is_read (Boolean, Default: false)
   └── created_at (Timestamp, Default: now())

8. GROUP_MESSAGES (1 record)
   Purpose: Bulk messaging to groups
   ├── id (Primary Key, Auto-increment)
   ├── sender_id (Integer, Required) - Links to users
   ├── target_type (Text, Required) - Group type
   ├── target_value (Text, Required) - Group identifier
   ├── subject (Text, Required)
   ├── content (Text, Required)
   ├── created_at (Timestamp, Default: now())
   └── recipient_count (Integer, Required)

9. STATISTICS (1 record)
   Purpose: Cached statistics data
   ├── id (Primary Key, Auto-increment)
   ├── total_members (Integer, Required)
   ├── members_by_gender (JSON, Required)
   ├── members_by_region (JSON, Required)
   ├── members_by_age (JSON, Required)
   ├── members_by_voter_card (JSON, Required)
   └── last_updated (Timestamp, Default: now())

========================================================
RELATIONSHIPS & DATA FLOW
========================================================

Regional Hierarchy:
regions (8) 
  └── federations (30) 
      └── sections (143) 
          └── members (1,069)

User Management:
users (56) 
  ├── Can register members (registered_by_id)
  ├── Can send messages to other users
  ├── Can send group messages
  └── May be assigned to sections

Member Management:
members (1,069)
  ├── Can have member_cards (0 currently)
  ├── Have photos (photo_id references)
  ├── Belong to regions/federations/sections
  └── Can be soft-deleted (deleted flag)

========================================================
KEY INSIGHTS
========================================================

✅ Active System:
   • 1,069 active members (main data)
   • 56 system users
   • Multi-level geographic organization (regions → federations → sections)

🖼️ PHOTO STORAGE SYSTEM (IMPORTANT):
   • Photos are NOT stored in the database
   • 635 photo files stored in filesystem (/uploads directory)
   • Database stores only photo_id references (text field pointing to filenames)
   • Photos use UUID naming: e.g., "5a58bc20-6445-4ff6-b594-da730701ac51.jpg"
   • Advanced PhotoManager class handles photo operations
   • File formats: JPG, JPEG, PNG supported

⚠️  Areas to Note:
   • No member cards have been issued yet (0 records)
   • Member card system is ready but unused
   • Mix of required and optional fields in member profiles
   • Soft delete system implemented for members
   • Photo files separate from database - need filesystem access for complete data

🌍 Geographic Coverage:
   • Primarily Guinea-based organization
   • International presence (Mauritania, Singapore, UK, USA/Canada, South America)
   • 8 regions, 30 federations, 143 sections

🔐 Security:
   • Role-based access control (system_admin, sysadmin, admin)
   • Encrypted password storage
   • User assignment to specific sections

========================================================
RECOMMENDED ACCESS METHODS
========================================================

For direct database access, use this read-only connection:
postgresql://readonly_user:ReadOnly2024!@ep-yellow-resonance-a4ghuddg.us-east-1.aws.neon.tech/neondb?sslmode=require

Tools that work well with this connection:
• pgAdmin (GUI)
• DBeaver (Free, cross-platform)
• TablePlus (Mac/Windows)
• DataGrip (JetBrains)
• Command line: psql

🖼️ IMPORTANT: PHOTO ACCESS LIMITATION
========================================================
❌ The database connection ONLY provides access to:
   • Member data and photo_id references
   • All other structured data (users, regions, etc.)

❌ The database connection CANNOT provide:
   • Actual photo files (635 photos stored in filesystem)
   • Photo viewing or download capabilities
   • Complete member profiles (missing visual data)

✅ For COMPLETE data access (database + photos), contact the system administrator for:
   • Replit project collaboration access
   • Photo file export/backup
   • Full system tour including visual data

========================================================
END OF EXPORT
========================================================