========================================================
DATABASE EXPORT - COMPREHENSIVE STRUCTURE & DATA ANALYSIS
========================================================
Export Date: August 16, 2025
Database Type: PostgreSQL (Neon)
Total Tables: 9

========================================================
TABLE OVERVIEW & ROW COUNTS
========================================================

federations     - 30 records
group_messages  - 1 record
member_cards    - 0 records
members         - 1,069 records  â­ Primary data table
messages        - 5 records
regions         - 8 records
sections        - 143 records
statistics      - 1 record
users           - 56 records

========================================================
DETAILED TABLE STRUCTURES
========================================================

1. FEDERATIONS (30 records)
   Purpose: Geographic/organizational divisions
   â”œâ”€â”€ id (Primary Key, Auto-increment)
   â”œâ”€â”€ name (Text, Required) - Federation name
   â”œâ”€â”€ country (Text, Required) - Country name
   â”œâ”€â”€ created_at (Timestamp, Default: now())
   â”œâ”€â”€ name_en (Text, Optional) - English name
   â”œâ”€â”€ country_en (Text, Optional) - English country
   â”œâ”€â”€ region_id (Integer, Required) - Links to regions table
   â””â”€â”€ description (Text, Optional)

   Sample Data:
   â€¢ ID: 15 | Name: Matoto | Country: GuinÃ©e | Region ID: 2
   â€¢ ID: 23 | Name: Dixinn | Country: GuinÃ©e | Region ID: 2
   â€¢ ID: 24 | Name: Matam | Country: GuinÃ©e | Region ID: 2

2. REGIONS (8 records)
   Purpose: Regional divisions
   â”œâ”€â”€ id (Primary Key, Auto-increment)
   â”œâ”€â”€ name (Text, Required) - Region name
   â”œâ”€â”€ country (Text, Optional) - Country
   â”œâ”€â”€ created_at (Timestamp, Default: now())
   â”œâ”€â”€ name_en (Text, Optional) - English name
   â”œâ”€â”€ country_en (Text, Optional) - English country
   â”œâ”€â”€ description (Text, Optional)
   â””â”€â”€ code (Text, Optional) - Region code

   Sample Data:
   â€¢ ID: 2 | Name: GuinÃ©e | Country: GuinÃ©e | Code: GUIN
   â€¢ ID: 9 | Name: Asie Pacifique | Country: Singapour | Code: SING
   â€¢ ID: 14 | Name: Royaume Unis | Country: UK | Code: UK
   â€¢ ID: 15 | Name: Amerique du Nord | Country: USA & CA | Code: USA & CA
   â€¢ ID: 16 | Name: Amerique du Sud | Country: SouthAme | Code: SouthAme

3. SECTIONS (143 records)
   Purpose: Sub-divisions within federations
   â”œâ”€â”€ id (Primary Key, Auto-increment)
   â”œâ”€â”€ name (Text, Required) - Section name
   â”œâ”€â”€ name_en (Text, Optional) - English name
   â”œâ”€â”€ federation_id (Integer, Required) - Links to federations
   â”œâ”€â”€ description (Text, Optional)
   â””â”€â”€ created_at (Timestamp, Default: now())

   Sample Data:
   â€¢ ID: 1 | Name: Kissosso Plateau | Federation ID: 15
   â€¢ ID: 6 | Name: Sangoyah MarchÃ© | Federation ID: 15
   â€¢ ID: 11 | Name: Kankan Centre | Federation ID: 49
   â€¢ ID: 13 | Name: Cameroun | Federation ID: 23
   â€¢ ID: 15 | Name: Sangoyah | Federation ID: 15

4. MEMBERS (1,069 records) â­ MAIN DATA TABLE
   Purpose: Member registration and profiles
   â”œâ”€â”€ id (Primary Key, Auto-increment)
   â”œâ”€â”€ membership_id (Text, Required, Unique) - Member ID number
   â”œâ”€â”€ first_name (Text, Required)
   â”œâ”€â”€ last_name (Text, Required)
   â”œâ”€â”€ gender (Text, Required)
   â”œâ”€â”€ birth_date (Text, Optional)
   â”œâ”€â”€ birth_place (Text, Required)
   â”œâ”€â”€ email (Text, Optional)
   â”œâ”€â”€ phone (Text, Optional)
   â”œâ”€â”€ country (Text, Required)
   â”œâ”€â”€ city (Text, Required)
   â”œâ”€â”€ address (Text, Optional)
   â”œâ”€â”€ education (Text, Optional)
   â”œâ”€â”€ occupation (Text, Optional)
   â”œâ”€â”€ federation (Text, Optional) - Legacy field
   â”œâ”€â”€ has_voter_card (Text, Optional)
   â”œâ”€â”€ voter_card_number (Text, Optional)
   â”œâ”€â”€ photo_id (Text, Optional) - Photo file reference
   â”œâ”€â”€ registration_date (Timestamp, Default: now())
   â”œâ”€â”€ pending_approval (Boolean, Default: false)
   â”œâ”€â”€ registered_by_id (Integer, Optional) - Links to users
   â”œâ”€â”€ region_id (Integer, Optional) - Links to regions
   â”œâ”€â”€ section_id (Integer, Optional) - Links to sections
   â”œâ”€â”€ federation_id (Integer, Optional) - Links to federations
   â”œâ”€â”€ education_other (Text, Optional)
   â”œâ”€â”€ section (Text, Optional) - Legacy field
   â”œâ”€â”€ deleted (Boolean, Default: false)
   â”œâ”€â”€ deleted_at (Timestamp, Optional)
   â”œâ”€â”€ expiration_date (Timestamp, Optional)
   â””â”€â”€ updated_at (Timestamp, Default: now())

   Sample Data (Anonymized):
   â€¢ ID: 54 | Membership ID: 00571864 | Gender: female | Country: GN | City: Dixinn | Federation ID: 23
   â€¢ ID: 76 | Membership ID: 00186972 | Gender: male | Country: Mauritanie | City: Nouakchott | Federation ID: 50
   â€¢ ID: 78 | Membership ID: 00881444 | Gender: male | Country: GuinÃ©e | City: Maneah | Federation ID: 32

5. USERS (56 records)
   Purpose: System administrators and staff
   â”œâ”€â”€ id (Primary Key, Auto-increment)
   â”œâ”€â”€ username (Text, Required, Unique)
   â”œâ”€â”€ password (Text, Required) - Encrypted
   â”œâ”€â”€ name (Text, Required)
   â”œâ”€â”€ email (Text, Optional)
   â”œâ”€â”€ role (Text, Required, Default: 'admin')
   â”œâ”€â”€ created_at (Timestamp, Default: now())
   â”œâ”€â”€ phone (Text, Optional)
   â”œâ”€â”€ address (Text, Optional)
   â”œâ”€â”€ photo_id (Text, Optional)
   â””â”€â”€ section_id (Integer, Optional) - Links to sections

   Roles Found: system_admin, sysadmin, admin
   
   Sample Data (No passwords shown):
   â€¢ ID: 1 | Username: admin | Name: System Administrator | Role: sysadmin
   â€¢ ID: 3 | Username: admin_anb | Name: Master Admin | Role: system_admin
   â€¢ ID: 4 | Username: thiernoury | Name: Thierno Oury Diallo | Role: sysadmin

6. MEMBER_CARDS (0 records - Empty)
   Purpose: Member card generation and tracking
   â”œâ”€â”€ id (Primary Key, Auto-increment)
   â”œâ”€â”€ member_id (Integer, Required) - Links to members
   â”œâ”€â”€ card_number (Text, Required)
   â”œâ”€â”€ issue_date (Timestamp, Default: now())
   â”œâ”€â”€ expiry_date (Date, Required)
   â”œâ”€â”€ status (Text, Default: 'active')
   â”œâ”€â”€ qr_code_data (Text, Required)
   â”œâ”€â”€ card_template (Text, Default: 'standard')
   â”œâ”€â”€ printed_count (Integer, Default: 0)
   â”œâ”€â”€ last_printed_at (Timestamp, Optional)
   â””â”€â”€ metadata (JSON, Optional)

7. MESSAGES (5 records)
   Purpose: User-to-user messaging
   â”œâ”€â”€ id (Primary Key, Auto-increment)
   â”œâ”€â”€ sender_id (Integer, Required) - Links to users
   â”œâ”€â”€ receiver_id (Integer, Required) - Links to users
   â”œâ”€â”€ subject (Text, Required)
   â”œâ”€â”€ content (Text, Required)
   â”œâ”€â”€ is_read (Boolean, Default: false)
   â””â”€â”€ created_at (Timestamp, Default: now())

8. GROUP_MESSAGES (1 record)
   Purpose: Bulk messaging to groups
   â”œâ”€â”€ id (Primary Key, Auto-increment)
   â”œâ”€â”€ sender_id (Integer, Required) - Links to users
   â”œâ”€â”€ target_type (Text, Required) - Group type
   â”œâ”€â”€ target_value (Text, Required) - Group identifier
   â”œâ”€â”€ subject (Text, Required)
   â”œâ”€â”€ content (Text, Required)
   â”œâ”€â”€ created_at (Timestamp, Default: now())
   â””â”€â”€ recipient_count (Integer, Required)

9. STATISTICS (1 record)
   Purpose: Cached statistics data
   â”œâ”€â”€ id (Primary Key, Auto-increment)
   â”œâ”€â”€ total_members (Integer, Required)
   â”œâ”€â”€ members_by_gender (JSON, Required)
   â”œâ”€â”€ members_by_region (JSON, Required)
   â”œâ”€â”€ members_by_age (JSON, Required)
   â”œâ”€â”€ members_by_voter_card (JSON, Required)
   â””â”€â”€ last_updated (Timestamp, Default: now())

========================================================
RELATIONSHIPS & DATA FLOW
========================================================

Regional Hierarchy:
regions (8) 
  â””â”€â”€ federations (30) 
      â””â”€â”€ sections (143) 
          â””â”€â”€ members (1,069)

User Management:
users (56) 
  â”œâ”€â”€ Can register members (registered_by_id)
  â”œâ”€â”€ Can send messages to other users
  â”œâ”€â”€ Can send group messages
  â””â”€â”€ May be assigned to sections

Member Management:
members (1,069)
  â”œâ”€â”€ Can have member_cards (0 currently)
  â”œâ”€â”€ Have photos (photo_id references)
  â”œâ”€â”€ Belong to regions/federations/sections
  â””â”€â”€ Can be soft-deleted (deleted flag)

========================================================
KEY INSIGHTS
========================================================

âœ… Active System:
   â€¢ 1,069 active members (main data)
   â€¢ 56 system users
   â€¢ Multi-level geographic organization (regions â†’ federations â†’ sections)

ğŸ–¼ï¸ PHOTO STORAGE SYSTEM (IMPORTANT):
   â€¢ Photos are NOT stored in the database
   â€¢ 635 photo files stored in filesystem (/uploads directory)
   â€¢ Database stores only photo_id references (text field pointing to filenames)
   â€¢ Photos use UUID naming: e.g., "5a58bc20-6445-4ff6-b594-da730701ac51.jpg"
   â€¢ Advanced PhotoManager class handles photo operations
   â€¢ File formats: JPG, JPEG, PNG supported

âš ï¸  Areas to Note:
   â€¢ No member cards have been issued yet (0 records)
   â€¢ Member card system is ready but unused
   â€¢ Mix of required and optional fields in member profiles
   â€¢ Soft delete system implemented for members
   â€¢ Photo files separate from database - need filesystem access for complete data

ğŸŒ Geographic Coverage:
   â€¢ Primarily Guinea-based organization
   â€¢ International presence (Mauritania, Singapore, UK, USA/Canada, South America)
   â€¢ 8 regions, 30 federations, 143 sections

ğŸ” Security:
   â€¢ Role-based access control (system_admin, sysadmin, admin)
   â€¢ Encrypted password storage
   â€¢ User assignment to specific sections

========================================================
RECOMMENDED ACCESS METHODS
========================================================

For direct database access, use this read-only connection:
postgresql://readonly_user:ReadOnly2024!@ep-yellow-resonance-a4ghuddg.us-east-1.aws.neon.tech/neondb?sslmode=require

Tools that work well with this connection:
â€¢ pgAdmin (GUI)
â€¢ DBeaver (Free, cross-platform)
â€¢ TablePlus (Mac/Windows)
â€¢ DataGrip (JetBrains)
â€¢ Command line: psql

ğŸ–¼ï¸ IMPORTANT: PHOTO ACCESS LIMITATION
========================================================
âŒ The database connection ONLY provides access to:
   â€¢ Member data and photo_id references
   â€¢ All other structured data (users, regions, etc.)

âŒ The database connection CANNOT provide:
   â€¢ Actual photo files (635 photos stored in filesystem)
   â€¢ Photo viewing or download capabilities
   â€¢ Complete member profiles (missing visual data)

âœ… For COMPLETE data access (database + photos), contact the system administrator for:
   â€¢ Replit project collaboration access
   â€¢ Photo file export/backup
   â€¢ Full system tour including visual data

========================================================
END OF EXPORT
========================================================